CREATE
  TABLE SCHE.SAMPLECOLLECTION
  (
    COLLECTIONCODE NVARCHAR2 (15) NOT NULL ,
    NAME NVARCHAR2 (50) NOT NULL ,
    DESCRIPTION NVARCHAR2 (250) ,
    ISCLOSED     NUMBER (1) ,
    CLOSEDDATE   DATE ,
    OPENDATE     DATE ,
    CREATIONDATE DATE ,
    CREATEDBY NVARCHAR2 (110) ,
    ISOPEN NUMBER (1) ,
    CLOSEDBY NVARCHAR2 (110) ,
    ISIMPORTED NUMBER (1) DEFAULT 0
  )
  TABLESPACE TSCHE LOGGING ;
CREATE OR REPLACE TRIGGER SCHEMA.TRIGGER 
    AFTER UPDATE ON SCHEMA.TABLE 
    FOR EACH ROW 
Declare

  v_IsReaOnly tblautoindexvalues.isreadonly%type;
Begin
  v_IsReaOnly := 1;
  If :New.CANUPLOADTOOTHER = 1 Then
    v_IsReaOnly := 0;
  end if;

  update tblautoindexvalues au
     set au.isreadonly = v_IsReaOnly
   where au.claioncode = :New.ClassificationCode
     and au.propertycode =
         (select ertyCode
            from ertybag pb
           where pb.name = 'RClassificationAddressee')
     and au.ycode =
         (select propertyCode
            from tblpropertybag pb
           where pb.name = 'RSubjectRecordType')
     and au.parvalue = 'hello';

End SAMPLE_TRIGGER; 
/
CREATE UNIQUE INDEX SCHE.SAMPLECOLLECTION_PK ON SCHE.SAMPLECOLLECTION
  (
    COLLECTIONCODE ASC
  )
  TABLESPACE SCHE LOGGING ;
ALTER TABLE SCHE.SAMPLECOLLECTION ADD CONSTRAINT SCHE.SAMPLECOLLECTION_PK PRIMARY KEY (
COLLECTIONCODE ) USING INDEX SCHE.SAMPLECOLLECTION_PK ;

