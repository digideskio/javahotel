namespace application.test ;

use com.ibm.streams.powerbi::PowerBI ;

composite Main1
{
	graph
		(stream<rstring name> Beacon_1_out0 as O) as Beacon_1 = Beacon()
		{
			logic
				state : mutable int32 i = 0 ;
			param
				iterations : 100 ;
				period : 0.1f ;
			output
				O : name = "Name " +(rstring)(i ++) ;
		}

		() as PowerBI_2 = PowerBI(Beacon_1_out0)
		{
			param
				oauth_clientid : "22dfcddc-d5b4-4e8a-8358-1658fabdad0b" ;
				oauth_password : "Szczuja123" ;
				oauth_username : "szczodry@szczerbek.onmicrosoft.com" ;
				datasetName : "InfoS3" ;
				tablename : "teststring" ;
				flushsize : 10;
				clearfirstly : true;
		}

		() as Custom_3 = Custom(Beacon_1_out0 as inputStream)
		{
			logic
				onTuple inputStream :
				{
				   println(inputStream);
				}

		}

}

