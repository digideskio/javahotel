namespace application.test ;

use com.ibm.streams.powerbi::PowerBI ;

composite Main
{
	graph
		(stream<rstring name, uint32 num, float64 flo, timestamp ti, boolean log>
			Beacon_1_out0 as O) as Beacon_1 = Beacon()
		{
			logic
				state : mutable int32 i = 0 ;
			param
				iterations : 100 ;
				period : 0.1f ;
			output
				O : name = "Name " +(rstring)(i ++), num =(uint32)(i ++), flo = 1.23, log =
					i / 2 == 0 ? true : false, ti = createTimestamp(1000l, 100u) ;
		}

		() as PowerBI_2 = PowerBI(Beacon_1_out0)
		{
			param
				oauth_clientid : "22dfcddc-d5b4-4e8a-8358-1658fabdad0b" ;
				oauth_password : "Szczuja123" ;
				oauth_username : "szczodry@szczerbek.onmicrosoft.com" ;
				datasetName : "InfoS6" ;
				tablename : "table6" ;
				flushsize : 10 ;
		}

		() as Custom_3 = Custom(Beacon_1_out0 as inputStream)
		{
			logic
				onTuple inputStream :
				{
					println(inputStream) ;
				}

		}

}
